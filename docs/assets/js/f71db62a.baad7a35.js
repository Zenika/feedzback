"use strict";(globalThis.webpackChunkfeedzback_docs=globalThis.webpackChunkfeedzback_docs||[]).push([[4930],{149(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"technical-guides/environments/local-dev","title":"Local dev","description":"As explained in the installation guide, you can run the client and server apps locally, for development purposes.","source":"@site/docs/technical-guides/environments/local-dev.md","sourceDirName":"technical-guides/environments","slug":"/technical-guides/environments/local-dev","permalink":"/feedzback/docs/technical-guides/environments/local-dev","draft":false,"unlisted":false,"editUrl":"https://github.com/Zenika/feedzback/tree/main/docs-source/docs/technical-guides/environments/local-dev.md","tags":[],"version":"current","frontMatter":{"title":"Local dev"},"sidebar":"default","previous":{"title":"Overview","permalink":"/feedzback/docs/technical-guides/environments/overview"},"next":{"title":"Firebase Hosting","permalink":"/feedzback/docs/technical-guides/client/firebase-hosting"}}');var s=n(4848),i=n(8453);const a={title:"Local dev"},o="Local dev environment",c={},l=[{value:"<code>*:emulators:watch</code> scripts",id:"emulatorswatch-scripts",level:2},{value:"<code>*:emulators</code> scripts",id:"emulators-scripts",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"local-dev-environment",children:"Local dev environment"})}),"\n",(0,s.jsxs)(t.p,{children:["As explained in the ",(0,s.jsx)(t.a,{href:"/docs/installation",children:"installation guide"}),", you can run the ",(0,s.jsx)(t.em,{children:"client"})," and ",(0,s.jsx)(t.em,{children:"server"})," apps locally, for development purposes.\nBut you are still connecting to the remote ",(0,s.jsx)(t.code,{children:"feedzback-v2-dev"})," Firebase project for Authentication and Firestore services."]}),"\n",(0,s.jsxs)(t.p,{children:["The good news is that you can run the entire stack locally, using the ",(0,s.jsx)(t.a,{href:"https://firebase.google.com/docs/emulator-suite",children:"Firebase emulator suite"}),"!"]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["All scripts related to Firebase emulator can be found in the ",(0,s.jsx)(t.code,{children:"<rootDir>/client/package.json"})," file."]})}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"When using the Firebase emulator, the Google Auth provider is no longer available.\nOnly the Email/Password provider is enabled."})}),"\n",(0,s.jsxs)(t.h2,{id:"emulatorswatch-scripts",children:[(0,s.jsx)(t.code,{children:"*:emulators:watch"})," scripts"]}),"\n",(0,s.jsxs)(t.p,{children:["In this execution context, the ",(0,s.jsx)(t.em,{children:"client"})," and ",(0,s.jsx)(t.em,{children:"server"}),' apps are running in "watch" mode.']}),"\n",(0,s.jsxs)(t.p,{children:["Only the Firebase ",(0,s.jsx)(t.em,{children:"Auth"})," and ",(0,s.jsx)(t.em,{children:"Firestore"})," emulators are started. The ",(0,s.jsx)(t.em,{children:"Hosting"})," emulator is not used in this context."]}),"\n",(0,s.jsx)(t.p,{children:"Here are the NPM scripts for this execution context:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",metastring:'title="<rootDir>/client/package.json"',children:'{\n  "scripts": {\n    // Start Firebase "Auth" and "Firestore" emulators\n    "firebase:emulators:watch": "firebase emulators:start --only auth:dev,firestore:dev --import ./firebase-emulators-data",\n\n    // Start the server app in "watch" mode\n    "server:emulators:watch": "npm --prefix ../server run start:emulators:watch",\n\n    // Start the client app in "watch" mode\n    "start:emulators:watch": "ng serve -c development-emulators",\n\n    // ----------------------------------------\n    // Run all the previous scripts in parallel\n    "stack:emulators:watch": "concurrently \\"npm run firebase:emulators:watch\\" \\"npm run server:emulators:watch\\" \\"npm run start:emulators:watch\\""\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.h2,{id:"emulators-scripts",children:[(0,s.jsx)(t.code,{children:"*:emulators"})," scripts"]}),"\n",(0,s.jsxs)(t.p,{children:["In this execution context, the ",(0,s.jsx)(t.em,{children:"client"})," and ",(0,s.jsx)(t.em,{children:"server"})," apps are built before running."]}),"\n",(0,s.jsxs)(t.p,{children:["This time, not only are the Firebase ",(0,s.jsx)(t.em,{children:"Auth"})," and ",(0,s.jsx)(t.em,{children:"Firestore"})," emulators started, but so is the ",(0,s.jsx)(t.em,{children:"Hosting"})," emulator that serves the client app.\nTherefore, the client app must be built beforehand, to be available in the ",(0,s.jsx)(t.code,{children:"<rootDir>/client/dist/browser"})," directory."]}),"\n",(0,s.jsxs)(t.p,{children:["This environment is the closest to the production environment (with the exception of the authentication method) and is therefore ideal for ",(0,s.jsx)(t.a,{href:"/docs/technical-guides/e2e-testing",children:"E2E testing"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"Here are the NPM scripts for this execution context:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",metastring:'title="<rootDir>/client/package.json"',children:'{\n  "scripts": {\n    // Start Firebase "Auth", "Firestore" and "Hosting" emulators\n    "firebase:emulators": "firebase emulators:start --only auth:dev,firestore:dev,hosting:dev --import ./firebase-emulators-data",\n\n    // Build and start the server app (see "<rootDir>/server/package.json" scripts for details)\n    "server:emulators": "npm --prefix ../server run start:emulators",\n\n    // Only build the client app (it will be served by Firebase "Hosting")\n    "prestack:emulators": "npm run build:emulators",\n\n    // ----------------------------------------\n    // Run all the previous scripts in parallel\n    "stack:emulators": "concurrently \\"npm run firebase:emulators\\" \\"npm run server:emulators\\""\n  }\n}\n'})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,t,n){n.d(t,{R:()=>a,x:()=>o});var r=n(6540);const s={},i=r.createContext(s);function a(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);