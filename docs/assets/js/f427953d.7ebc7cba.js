"use strict";(self.webpackChunkfeedzback_docs=self.webpackChunkfeedzback_docs||[]).push([[407],{1632:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>o});var c=s(4848),i=s(8453);const r={},t="Archiving",a={id:"business-cases/archiving",title:"Archiving",description:"User story",source:"@site/docs/business-cases/archiving.md",sourceDirName:"business-cases",slug:"/business-cases/archiving",permalink:"/feedzback/docs/business-cases/archiving",draft:!1,unlisted:!1,editUrl:"https://github.com/Zenika/feedzback/tree/main/docs-source/docs/business-cases/archiving.md",tags:[],version:"current",frontMatter:{},sidebar:"default",previous:{title:"Shared feedback",permalink:"/feedzback/docs/business-cases/shared-feedback"},next:{title:"Styles",permalink:"/feedzback/docs/technical-guides/client/styles"}},d={},o=[{value:"User story",id:"user-story",level:2},{value:"Technical specifications",id:"technical-specifications",level:2},{value:"Links",id:"links",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h1,{id:"archiving",children:"Archiving"}),"\n",(0,c.jsx)(n.h2,{id:"user-story",children:"User story"}),"\n",(0,c.jsx)(n.p,{children:"After a month, I'd like to be able to archive a feedback request that has not been replied.\nOnce archived, the feedback request can no longer be replied."}),"\n",(0,c.jsx)(n.p,{children:"I'd like to be able to archive the feedbacks I've received or sent after reading them."}),"\n",(0,c.jsx)(n.h2,{id:"technical-specifications",children:"Technical specifications"}),"\n",(0,c.jsxs)(n.p,{children:["Archived feedback should not simply be deleted from the database, as they are used for statistical purposes.\nInstead, there is an ",(0,c.jsx)(n.code,{children:"archived"})," field in the feedback documents."]}),"\n",(0,c.jsxs)(n.p,{children:["The difficulty is that the feedback document is shared between the ",(0,c.jsx)(n.code,{children:"giverEmail"})," and the ",(0,c.jsx)(n.code,{children:"receiverEmail"}),".\nAs a result, the ",(0,c.jsx)(n.code,{children:"archived"})," field cannot be a simple boolean.\nInstead, this field has a numeric value with the following meaning:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:'title="server/src/feedback/feedback-db/feedback-db.types.ts"',children:"// Explanation of possible values for field `Feedback['archived']`:\n//    == 0   ->   archived for no-one\n//    == 1   ->   archived for the receiver\n//    == 2   ->   archived for the giver\n//    == 3   ->   archived for both the receiver and the giver\n\nexport const FeedbackArchived = {\n  No: 0,\n  Receiver: 1,\n  Giver: 2,\n  Both: 3,\n} as const;\n"})}),"\n",(0,c.jsx)(n.p,{children:'To archive a feedback (requested, given or received), i have to click on the button "Archive" in the feedback details page:'}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-txt",children:"/history/id/<feedbackId>\n"})}),"\n",(0,c.jsx)(n.h2,{id:"links",children:"Links"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Client"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://github.com/Zenika/feedzback/blob/main/client/src/app/feedback-details/feedback-details.component.ts",children:(0,c.jsx)(n.code,{children:"FeedbackDetailsComponent"})})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://github.com/Zenika/feedzback/blob/main/client/src/app/shared/feedback/pending-feedback/pending-feedback.component.ts",children:(0,c.jsx)(n.code,{children:"PendingFeedbackComponent"})})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://github.com/Zenika/feedzback/blob/main/client/src/app/shared/feedback/done-feedback/done-feedback.component.ts",children:(0,c.jsx)(n.code,{children:"DoneFeedbackComponent"})})}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Server"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"https://github.com/Zenika/feedzback/blob/main/server/src/feedback/feedback.controller.ts",children:(0,c.jsx)(n.code,{children:"FeedbackController"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"archive-request"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"archive"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var c=s(6540);const i={},r=c.createContext(i);function t(e){const n=c.useContext(r);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),c.createElement(r.Provider,{value:n},e.children)}}}]);