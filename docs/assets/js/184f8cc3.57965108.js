"use strict";(self.webpackChunkfeedzback_docs=self.webpackChunkfeedzback_docs||[]).push([[135],{302:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>o});var t=s(4848),c=s(8453);const i={},d="Request feedback",r={id:"business-cases/request-feedback",title:"Request feedback",description:"User story",source:"@site/docs/business-cases/request-feedback.md",sourceDirName:"business-cases",slug:"/business-cases/request-feedback",permalink:"/feedzback/docs/business-cases/request-feedback",draft:!1,unlisted:!1,editUrl:"https://github.com/Zenika/feedzback/tree/main/docs-source/docs/business-cases/request-feedback.md",tags:[],version:"current",frontMatter:{},sidebar:"default",previous:{title:"Installation",permalink:"/feedzback/docs/installation"},next:{title:"Reply to feedback request",permalink:"/feedzback/docs/business-cases/reply-to-feedback-request"}},a={},o=[{value:"User story",id:"user-story",level:2},{value:"Technical specifications",id:"technical-specifications",level:2},{value:"Links",id:"links",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"request-feedback",children:"Request feedback"}),"\n",(0,t.jsx)(n.h2,{id:"user-story",children:"User story"}),"\n",(0,t.jsx)(n.p,{children:"As a Zenika employee, I would like to request feedback from colleagues I have worked with, whether they are internal or external to my organisation."}),"\n",(0,t.jsx)(n.p,{children:"Each colleague then receives an email containing a link enabling them to reply to my feedback request."}),"\n",(0,t.jsx)(n.p,{children:"For external colleagues, this link is the only way for them to reply.\nWhereas internal colleagues can also connect to the application and view the list of feedback requests they have received."}),"\n",(0,t.jsx)(n.p,{children:"Once my request has been sent, I would like to view the list of my pending feedback requests."}),"\n",(0,t.jsx)(n.h2,{id:"technical-specifications",children:"Technical specifications"}),"\n",(0,t.jsx)(n.p,{children:"The requester must be authenticated."}),"\n",(0,t.jsx)(n.p,{children:"The request can be sent to one or more recipients."}),"\n",(0,t.jsx)(n.p,{children:"For each recipient, 2 documents are added to the database:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["A document is added to the ",(0,t.jsx)(n.code,{children:"feedback"})," collection.\nIt contains the details of the request (",(0,t.jsx)(n.code,{children:"giverEmail"}),", ",(0,t.jsx)(n.code,{children:"receiverEmail"}),", ...).\nThe ID of this document is called the ",(0,t.jsx)(n.code,{children:"feedbackId"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["A document is added to the ",(0,t.jsx)(n.code,{children:"feedbackRequestToken"})," collection.\nIt contains a reference to the ",(0,t.jsx)(n.code,{children:"feedbackId"}),".\nThe ID of this document is called the ",(0,t.jsx)(n.code,{children:"tokenId"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"For example, if Pinocchio sends a feedback request to Gimini, the first added document should look like this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const feedbackRequest: FeedbackRequest = {\n  giverEmail: 'gimini@zenika.com',\n  receiverEmail: 'pinocchio@zenika.com',\n  message: 'Hi Gimini, give me some feedback please.', // In reality, the content is encrypted.\n  shared: true,\n  requested: true, // Indicates that the feedback was initiated by a request.\n  status: 'pending',\n  createdAt: 1711403799463,\n  updatedAt: 1711403799463,\n  archived: 0,\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["From a feedback point of view, the requester is the ",(0,t.jsx)(n.code,{children:"receiverEmail"})," (who will receive the feedback) and the recipient of the request is the ",(0,t.jsx)(n.code,{children:"giverEmail"})," (who will give the feedback)."]}),"\n",(0,t.jsx)(n.p,{children:"The second added document should look like this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const feedbackRequestToken: FeedbackRequestToken = {\n  feedbackId: '123secret';\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"feedbackId"})," is shared between the ",(0,t.jsx)(n.code,{children:"receiverEmail"})," and the ",(0,t.jsx)(n.code,{children:"giverEmail"}),".\nBoth have access to the page:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-txt",children:"/history/id/<feedbackId>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"tokenId"}),", on the other hand, is a secret value known only to the ",(0,t.jsx)(n.code,{children:"giverEmail"}),", who can reply to the feedback request by visiting the page:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-txt",children:"/give-requested/token/<tokenId>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Each ",(0,t.jsx)(n.code,{children:"giverEmail"})," receives an email with a link to this page, based on their own ",(0,t.jsx)(n.code,{children:"tokenId"})," allowing them to reply."]}),"\n",(0,t.jsx)(n.h2,{id:"links",children:"Links"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Client"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/Zenika/feedzback/blob/main/client/src/app/request-feedback/request-feedback.component.ts",children:(0,t.jsx)(n.code,{children:"RequestFeedbackComponent"})})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Server"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/Zenika/feedzback/blob/main/server/src/feedback/feedback.controller.ts",children:(0,t.jsx)(n.code,{children:"FeedbackController"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"request"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>r});var t=s(6540);const c={},i=t.createContext(c);function d(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);