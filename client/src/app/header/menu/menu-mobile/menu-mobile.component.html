<div class="app-menu-mobile__user">
  @if (menuService.userInfo(); as _userInfo) {
    <app-avatar [photoUrl]="_userInfo.photoURL" [name]="_userInfo.displayName" small />
  }
  <span class="gbl-title-small" i18n="@@Component.Menu.Title">Préférences & paramètres</span>
</div>

<mat-nav-list role="list">
  <button mat-list-item role="listitem" class="gbl-button-less" (click)="menuService.languageService.switchLanguage()">
    <mat-icon matListItemIcon class="gbl-sys-primary">translate</mat-icon>
    @switch (menuService.languageService.localeId) {
      @case ('fr') {
        <span lang="en">English</span>
      }
      @case ('en') {
        <span lang="fr">Français</span>
      }
    }
  </button>

  <button mat-list-item role="listitem" class="gbl-button-less" (click)="menuService.themeService.switch()">
    <mat-icon matListItemIcon class="gbl-sys-primary">
      {{ menuService.themeService.theme() === 'light' ? 'dark_mode' : 'light_mode' }}
    </mat-icon>
    @if (menuService.themeService.theme() === 'light') {
      <ng-container i18n="@@Action.DarkTheme">Thème foncé</ng-container>
    } @else {
      <ng-container i18n="@@Action.LightTheme">Thème clair</ng-container>
    }
  </button>

  @if (menuService.userStatus().authenticated) {
    <button mat-list-item role="listitem" class="gbl-button-less" routerLink="/settings">
      <mat-icon matListItemIcon class="gbl-sys-primary">settings</mat-icon>
      <ng-container i18n="@@Title.Settings">Paramètres</ng-container>
    </button>
  }

  @if (!menuService.userStatus().guest) {
    <button mat-list-item role="listitem" class="gbl-button-less" (click)="menuService.signOut()">
      <mat-icon matListItemIcon class="gbl-sys-primary">logout</mat-icon>
      @if (menuService.userStatus().authenticated) {
        <ng-container i18n="@@Action.SignOut">Se déconnecter</ng-container>
      } @else {
        <ng-container i18n="@@Action.CloseSession">Fermer la session</ng-container>
      }
    </button>
  }
</mat-nav-list>
